/*
 * RWD Retrofit v1.7
 * Allows an existing "desktop site" to co-exist with a "responsive site", while also able to serve the desktop site to a different breakpoint on "mobile" - useful for serving the desktop site to tablets, for example
 *
 * Returns an object containing the desktop (rwdRetrofit.desktop) and optional mobile (rwdRetrofit.mobile) media queries as strings for responding to media queries with JS; for example, by using enquire.js (http://wickynilliams.github.com/enquire.js)
 *
 * Copyright (c) 2013 Izilla Partners Pty Ltd
 *
 * http://www.izilla.com.au
 *
 * Licensed under the MIT license
 */
;var rwdRetrofit=(function(){if(!document.querySelector||!document.getElementsByClassName||typeof(document.documentElement.clientWidth)=="undefined"){return}var l=document.querySelector('meta[name="viewport"]'),u=document.getElementsByClassName("rwdretrofit-desktop"),b=document.getElementsByClassName("rwdretrofit-mobile");if(!l||u.length===0||b.length===0){return}var g="ontouchstart" in window,o="content",f="media",e=l&&l.getAttribute(o),h="width=980",a=250,c="onorientationchange" in window,n=c?"orientationchange":"resize",s=u[0].getAttribute(f),w=b[0].getAttribute(f),m=u[0].getAttribute("data-breakpoint-width"),t,p=u[0].getAttribute("data-viewport-width"),d=u[0].getAttribute("data-debug"),v={};if(g||d==="true"){if(m){t=m}else{t=s.replace(/.*?min-width:\s?(\d*).*/g,"$1")}if(p&&parseInt(p)>=parseInt(t)){h=h.replace(/\d+/,p)}else{if(t>980){h=h.replace(/\d+/,t)}}}else{t=s.replace(/.*?min-width:\s?(\d*).*/g,"$1")}s=s.replace(/(min-width:\s?)\d*/g,"$1"+t);w=w.replace(/(max-width:\s?)\d*/g,"$1"+(t-1));v.desktop=s,v.mobile=w;if(g||d==="true"){for(var r=0;r<u.length;r++){u[r].setAttribute(f,s)}for(var q=0;q<b.length;q++){b[q].setAttribute(f,w)}}if(g){function k(){l.setAttribute(o,e);window.setTimeout(function(){if(document.documentElement.clientWidth>=t){l.setAttribute(o,h)}},a)}k();window.addEventListener(n,k,false)}return v})();